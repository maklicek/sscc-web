# Cíl

Znovu navázat na práci na webu **maklicek/sscc-web**, sjednotit styly, doladit jazykový přepínač a opravit „slunce/Ostrava“ + drobné 404.

---

## Rychlá rekapitulace (podle struktury repa, 2025‑11‑03)

* Hlavní stránky: `index.html`, `index-en.html`, `project-sscc.html`/`projekt-sscc.html`, `projects.html`/`projekty.html`, `cooperation.html`/`spoluprace.html`, `education.html`/`edukace.html`, `consortium.html`/`konsorcium.html`, `ideas.html`/`napady.html`, `health.html`, `coming-soon.html`, `404.html`.
* Soubory SEO: `sitemap.xml`, `robots.txt`, `.nojekyll`.
* Složky: `assets/` (CSS, JS, případně fonty), `images/`, `favicons/`, `pdf/`, `docx/`.
* Automatizace: `.github/workflows/pages.yml`, utility `check-pages.py`, `check_and_fix_pages.py`.

> Pozn.: dvojice CZ/EN souborů existují, ale některé cesty v navigaci jsou napříč soubory nedůsledné (absolutní vs. relativní), a aktivní stav v menu je nekonzistentní.

---

## To‑do (první průchod)

1. **Konsolidace hlavičky/patičky** (minimal‑duplication)

* Přesunout všechny společné styly do `assets/style.css`.
* V HTML vyházet zbytky inline `<style>` a do hlaviček doplnit jednotné metatagy + `hreflang`.

2. **Jazykový přepínač (CZ/EN)**

* Viditelný toggle + `link rel="alternate" hreflang` páry.
* Pevné mapování CZ → EN souborů a zpět.

3. **Navigace: aktivní stránka + konzistentní cesty**

* Root‑relative odkazy (`/spoluprace.html`), aby fungovaly i na GitHub Pages i při vnořených odkazech.

4. **„Slunce“ / „Ostrava trucuje“**

* Zrušit případné ID kolize (`id="sun"` na více stránkách) → použít třídy.
* Ošetřit zobrazení přes CSS proměnnou `--show-sun` a konsistentní `background-image` pro Ostravu.

5. **Kontroly**

* Prohnat link‑checkerem (`check-pages.py`) a dořešit 404 a přesměrování.

---

## Návrhy konkrétních úprav

### 1) Jednotná hlavička (vzor vložit do všech *.html)

```html
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SSCC — SolarSpace Carbon Cycle</title>
  <meta name="description" content="SolarSpace Carbon Cycle — výzkum, spolupráce, edukace." />

  <!-- Favicons -->
  <link rel="icon" href="/favicons/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />
  <link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png" />
  <link rel="manifest" href="/favicons/site.webmanifest" />

  <!-- Styles -->
  <link rel="preload" href="/assets/style.css" as="style" />
  <link rel="stylesheet" href="/assets/style.css" />

  <!-- Alternativní jazykové verze (příklad pro CZ stránku) -->
  <link rel="alternate" hreflang="en" href="/index-en.html" />
  <link rel="alternate" hreflang="cs" href="/index.html" />
</head>
```

### 2) Viditelný jazykový přepínač (fragment nav)

```html
<nav class="site-nav">
  <a href="/index.html" class="logo">SSCC</a>
  <ul class="menu">
    <li><a href="/projekt-sscc.html">Projekt</a></li>
    <li><a href="/projekty.html">Projekty</a></li>
    <li><a href="/spoluprace.html">Spolupráce</a></li>
    <li><a href="/edukace.html">Edukace</a></li>
    <li><a href="/konsorcium.html">Konsorcium</a></li>
    <li class="lang">
      <a href="/index-en.html" aria-label="Switch to English">EN</a>
    </li>
  </ul>
</nav>
```

> V EN variantě prohodit cesty na `project-sscc.html`, `projects.html` atd. a CZ odkaz nastavit na `/index.html`.

### 3) Aktivní položka v menu (čistě v CSS)

Do `<html>` na každé stránce přidejte třídu `page--XYZ` (např. `page--projekty`). Pak v CSS:

```css
/* zvýraznění aktivní stránky */
.menu a[href$="projekty.html"] { opacity: .75; }
html.page--projekty .menu a[href$="projekty.html"] { opacity: 1; text-decoration: underline; }
```

### 4) „Slunce“ + „Ostrava“ (bez kolizí a s jistým zobrazením)

```css
/* defaultně skryté slunce */
:root { --show-sun: 0; }
.sun { opacity: calc(var(--show-sun)); transition: opacity .3s ease; }

/* stránka, kde má být slunce vidět (např. nápady) */
html.page--napady { --show-sun: 1; }

/* Ostrava pozadí sjednoceně */
.city {
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
}
.city--ostrava {
  /* zkontrolovat název souboru a cestu přesně podle /images */
  background-image: url('/images/cities/ostrava.jpg');
}
```

V HTML pak používat jen třídy, ne ID (zabrání se kolizím):

```html
<section class="hero city city--ostrava">
  <div class="sun" aria-hidden="true"></div>
  <!-- obsah -->
</section>
```

### 5) Oprava cest (root‑relative)

Všechny vnitřní odkazy sjednotit na tvar `href="/soubor.html"`, stejně obrázky `src="/images/..."`. Na GitHub Pages to spolehlivě funguje i mezi stránkami.

### 6) Link‑checker: rozšířená varianta

Aktuální `check_and_fix_pages.py` můžete rozšířit o kontrolu obrázků a `hreflang` párů:

```python
# pseudo‑diff hlavních kroků
# 1) najít všechny <a href>, <img src>, <link rel="alternate">
# 2) ověřit existenci cílových souborů v repozitáři
# 3) varovat na relativní cesty bez úvodního '/'
# 4) zkontrolovat, že pro CZ stránku existuje EN alternate a obráceně
```

(Pokud chcete, dodám plnou verzi skriptu.)

---

## Mini‑kontrolní seznam před zveřejněním

* [ ] Všechny stránky mají jednotnou hlavičku a načítají `/assets/style.css`.
* [ ] Navigace používá root‑relative cesty a zvýrazňuje aktivní stránku.
* [ ] Přepínač jazyků funguje na všech dvojicích CZ/EN.
* [ ] Slunce je řízeno přes `--show-sun`, žádná duplicitní `id`.
* [ ] Obrázky měst (vč. Ostravy) mají existující soubory a správné cesty.
* [ ] `check-pages.py`/`check_and_fix_pages.py` hlásí 0 chyb.

---

## Další drobnosti (volitelné)

* `preload` pro největší hero obrázky.
* `aria-current="page"` na aktivní odkaz pro lepší přístupnost.
* `sitemap.xml` – doplnit EN URL, pokud chybí; ověřit kanonické adresy.
* `404.html` – přidat odkazy na hlavní CZ/EN stránky.

---

## Hotové záplaty (k pastnutí)

> **Pozn.:** V `assets/style.css` **jen přidej na konec**. U HTML souborů je to **drop‑in náhrada** (můžeš je vložit celé).

### Patch 1 — `assets/style.css` (přidej na **konec** souboru)

```css
/* ===============================
   SSCC: navigace, jazykový toggle,
   aktivní stránka, slunce, města
   =============================== */

/***** NAV *****/
.site-nav{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:1rem 1.25rem;border-bottom:1px solid rgba(255,255,255,.06);background:var(--panel, #111823);position:sticky;top:0;z-index:50}
.site-nav .logo{font-weight:700;letter-spacing:.02em;text-decoration:none}
.menu{list-style:none;display:flex;align-items:center;gap:.85rem;margin:0;padding:0}
.menu a{display:inline-block;padding:.4rem .6rem;text-decoration:none;opacity:.9}
.menu a:hover{opacity:1}
.menu .lang a{border:1px solid rgba(255,255,255,.12);border-radius:.5rem;padding:.3rem .5rem;font-variant:small-caps}

/* aktivní stránka (dostane třídu na <html>) */
.menu a[aria-current="page"]{text-decoration:underline;opacity:1}

/***** SUN *****/
:root{--show-sun:0}
.sun{width:120px;height:120px;border-radius:999px;position:absolute;right:5vw;top:5vh;filter:blur(6px);opacity:calc(var(--show-sun));transition:opacity .3s ease;pointer-events:none;background:radial-gradient(circle at 50% 50%, rgba(255,220,130,.95), rgba(255,160,40,.6) 45%, rgba(255,140,0,.0) 70%)}
html.page--napady{--show-sun:1}

/***** CITY BACKDROPS *****/
.city{background-position:center;background-size:cover;background-repeat:no-repeat;position:relative}
.city--ostrava{background-image:url('/images/cities/ostrava.jpg')}

/***** HERO *****/
.hero{position:relative;min-height:48svh;display:grid;place-items:center;padding:4rem 1.5rem}
.hero .hero-content{max-width:980px;text-align:center}
```

---

### Patch 2 — `index.html` (CZ, **nahraď celý soubor**)

```html
<!DOCTYPE html>
<html lang="cs" class="page--index">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SSCC — SolarSpace Carbon Cycle</title>
  <meta name="description" content="SolarSpace Carbon Cycle — výzkum, spolupráce, edukace." />

  <link rel="icon" href="/favicons/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />
  <link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png" />
  <link rel="manifest" href="/favicons/site.webmanifest" />

  <link rel="preload" href="/assets/style.css" as="style" />
  <link rel="stylesheet" href="/assets/style.css" />

  <link rel="alternate" hreflang="en" href="/index-en.html" />
  <link rel="alternate" hreflang="cs" href="/index.html" />
</head>
<body>

  <nav class="site-nav">
    <a href="/index.html" class="logo">SSCC</a>
    <ul class="menu">
      <li><a href="/projekt-sscc.html">Projekt</a></li>
      <li><a href="/projekty.html">Projekty</a></li>
      <li><a href="/spoluprace.html">Spolupráce</a></li>
      <li><a href="/edukace.html">Edukace</a></li>
      <li><a href="/konsorcium.html">Konsorcium</a></li>
      <li class="lang"><a href="/index-en.html" aria-label="Switch to English">EN</a></li>
    </ul>
  </nav>

  <header class="hero city city--ostrava">
    <div class="sun" aria-hidden="true"></div>
    <div class="hero-content">
      <h1>SolarSpace Carbon Cycle</h1>
      <p>Multioborová platforma pro výzkum, spolupráci a otevřenou edukaci.</p>
    </div>
  </header>

  <main class="page">
    <section>
      <h2>Vítejte</h2>
      <p>Prozkoumejte projekt, běžící iniciativy i příležitosti ke spolupráci.</p>
    </section>
  </main>

  <footer class="site-footer">
    <p>© SSCC — SolarSpace Carbon Cycle</p>
  </footer>
</body>
</html>
```

---

### Patch 3 — `index-en.html` (EN, **nahraď celý soubor**)

```html
<!DOCTYPE html>
<html lang="en" class="page--index">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SSCC — SolarSpace Carbon Cycle</title>
  <meta name="description" content="SolarSpace Carbon Cycle — research, collaboration, education." />

  <link rel="icon" href="/favicons/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />
  <link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png" />
  <link rel="manifest" href="/favicons/site.webmanifest" />

  <link rel="preload" href="/assets/style.css" as="style" />
  <link rel="stylesheet" href="/assets/style.css" />

  <link rel="alternate" hreflang="en" href="/index-en.html" />
  <link rel="alternate" hreflang="cs" href="/index.html" />
</head>
<body>

  <nav class="site-nav">
    <a href="/index-en.html" class="logo">SSCC</a>
    <ul class="menu">
      <li><a href="/project-sscc.html">Project</a></li>
      <li><a href="/projects.html">Projects</a></li>
      <li><a href="/cooperation.html">Cooperation</a></li>
      <li><a href="/education.html">Education</a></li>
      <li><a href="/consortium.html">Consortium</a></li>
      <li class="lang"><a href="/index.html" aria-label="Přepnout do češtiny">CZ</a></li>
    </ul>
  </nav>

  <header class="hero city city--ostrava">
    <div class="sun" aria-hidden="true"></div>
    <div class="hero-content">
      <h1>SolarSpace Carbon Cycle</h1>
      <p>A cross‑disciplinary platform for research, collaboration and open education.</p>
    </div>
  </header>

  <main class="page">
    <section>
      <h2>Welcome</h2>
      <p>Explore the project, running initiatives and opportunities for cooperation.</p>
    </section>
  </main>

  <footer class="site-footer">
    <p>© SSCC — SolarSpace Carbon Cycle</p>
  </footer>
</body>
</html>
```

---

### Patch 4 — `edukace.html` (CZ, **nahraď celý soubor**)

```html
<!DOCTYPE html>
<html lang="cs" class="page--edukace page--napady">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Edukace | SSCC</title>
  <meta name="description" content="Edukace a spolupráce: materiály SSCC, výzkum, průmyslové partnerství a zapojení studentů.">

  <link rel="icon" href="/favicons/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />
  <link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png" />
  <link rel="manifest" href="/favicons/site.webmanifest" />

  <link rel="preload" href="/assets/style.css" as="style" />
  <link rel="stylesheet" href="/assets/style.css" />

  <link rel="alternate" hreflang="en" href="/education.html" />
  <link rel="alternate" hreflang="cs" href="/edukace.html" />
</head>
<body>
  <nav class="site-nav">
    <a href="/index.html" class="logo">SSCC</a>
    <ul class="menu">
      <li><a href="/projekt-sscc.html">Projekt</a></li>
      <li><a href="/projekty.html">Projekty</a></li>
      <li><a href="/spoluprace.html">Spolupráce</a></li>
      <li><a href="/edukace.html" aria-current="page">Edukace</a></li>
      <li><a href="/konsorcium.html">Konsorcium</a></li>
      <li class="lang"><a href="/education.html" aria-label="Switch to English">EN</a></li>
    </ul>
  </nav>

  <header class="hero">
    <div class="sun" aria-hidden="true"></div>
    <div class="hero-content">
      <h1>Edukace</h1>
      <p>Materiály, kurzy a otevřené zdroje pro školy, univerzity i veřejnost.</p>
    </div>
  </header>

  <main class="page">
    <section>
      <h2>Materiály</h2>
      <ul>
        <li><a href="/pdf/Obecny%20popis.pdf">Obecný popis projektu (PDF)</a></li>
      </ul>
    </section>
  </main>

  <footer class="site-footer">
    <p>© SSCC — SolarSpace Carbon Cycle</p>
  </footer>
</body>
</html>
```

---

### Patch 5 — `education.html` (EN, **nahraď celý soubor**)

```html
<!DOCTYPE html>
<html lang="en" class="page--education page--napady">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Education | SSCC</title>
  <meta name="description" content="Education & collaboration: SSCC materials, research, industrial partnerships and student engagement.">

  <link rel="icon" href="/favicons/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png" />
  <link rel="apple-touch-icon" href="/favicons/apple-touch-icon.png" />
  <link rel="manifest" href="/favicons/site.webmanifest" />

  <link rel="preload" href="/assets/style.css" as="style" />
  <link rel="stylesheet" href="/assets/style.css" />

  <link rel="alternate" hreflang="en" href="/education.html" />
  <link rel="alternate" hreflang="cs" href="/edukace.html" />
</head>
<body>
  <nav class="site-nav">
    <a href="/index-en.html" class="logo">SSCC</a>
    <ul class="menu">
      <li><a href="/project-sscc.html">Project</a></li>
      <li><a href="/projects.html">Projects</a></li>
      <li><a href="/cooperation.html">Cooperation</a></li>
      <li><a href="/education.html" aria-current="page">Education</a></li>
      <li><a href="/consortium.html">Consortium</a></li>
      <li class="lang"><a href="/edukace.html" aria-label="Přepnout do češtiny">CZ</a></li>
    </ul>
  </nav>

  <header class="hero">
    <div class="sun" aria-hidden="true"></div>
    <div class="hero-content">
      <h1>Education</h1>
      <p>Materials, courses and open resources for schools, universities and the public.</p>
    </div>
  </header>

  <main class="page">
    <section>
      <h2>Materials</h2>
      <ul>
        <li><a href="/pdf/Obecny%20popis.pdf">General project overview (PDF, CZ)</a></li>
      </ul>
    </section>
  </main>

  <footer class="site-footer">
    <p>© SSCC — SolarSpace Carbon Cycle</p>
  </footer>
</body>
</html>

